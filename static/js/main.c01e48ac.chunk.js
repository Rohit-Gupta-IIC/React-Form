(this.webpackJsonpreact_form=this.webpackJsonpreact_form||[]).push([[0],{43:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),c=n(18),a=n.n(c),i=n(9),s=n.n(i),u=n(19),p=n(20),l=n(6),d=n(2),y=n.n(d),f=(n(43),n(1));y.a.accessToken="pk.eyJ1Ijoicm9oaXRpaWMiLCJhIjoiY2t2eGkyanJ3Y2c2azMwczdtOGppa3N5ZyJ9.G4VtowYp1GEpWxvh3nRFVQ";var g=function(){var e=Object(r.useRef)(null),t=Object(r.useRef)(null),n=Object(r.useState)(77.378),o=Object(l.a)(n,2),c=o[0],a=o[1],i=Object(r.useState)(28.624),d=Object(l.a)(i,2),g=d[0],m=d[1],j=Object(r.useState)(12),b=Object(l.a)(j,2),h=b[0],O=b[1],x=[c,g];Object(r.useEffect)((function(){t.current||(t.current=new y.a.Map({container:e.current,style:"mapbox://styles/mapbox/streets-v11",center:[c,g],zoom:h}),t.current.on("move",(function(){a(t.current.getCenter().lng.toFixed(4)),m(t.current.getCenter().lat.toFixed(4)),O(t.current.getZoom().toFixed(2))})),v())}),[t.current]);var v=function(){t.current.addControl(new y.a.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,style:{right:10,top:10},position:"bottom-left",showUserHeading:!0})),t.current.on("load",(function(){t.current.addLayer({id:"point",type:"circle",source:{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:x}}]}},paint:{"circle-radius":10,"circle-color":"#3887be"}}),t.current.on("click",(function(e){var n=Object.keys(e.lngLat).map((function(t){return e.lngLat[t]})),r={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:n}}]};t.current.getLayer("end")?t.current.getSource("end").setData(r):t.current.addLayer({id:"end",type:"circle",source:{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:n}}]}},paint:{"circle-radius":10,"circle-color":"#f30"}}),function(e){F.apply(this,arguments)}(n)}))}))};function F(){return F=Object(p.a)(s.a.mark((function e(n){var r,o,c,a,i,p,l,d,f,g,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.mapbox.com/directions/v5/mapbox/cycling/".concat(x[0],",").concat(x[1],";").concat(n[0],",").concat(n[1],"?steps=true&geometries=geojson&access_token=").concat(y.a.accessToken),{method:"GET"});case 2:return r=e.sent,e.next=5,r.json();case 5:o=e.sent,c=o.routes[0],a=c.geometry.coordinates,i={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:a}},t.current.getSource("route")?t.current.getSource("route").setData(i):t.current.addLayer({id:"route",type:"line",source:{type:"geojson",data:i},layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3887be","line-width":5,"line-opacity":.75}}),p=document.getElementById("instructions"),l=c.legs[0].steps,d="",f=Object(u.a)(l);try{for(f.s();!(g=f.n()).done;)m=g.value,d+="<li>".concat(m.maneuver.instruction,"</li>")}catch(s){f.e(s)}finally{f.f()}p.innerHTML="<p><strong>Trip duration: ".concat(Math.floor(c.duration/60)," min \ud83d\udeb4 </strong></p><ol>").concat(d,"</ol>");case 16:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{ref:e,className:"map-container"}),Object(f.jsx)("div",{id:"instructions",className:"instructions"})]})};a.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(g,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.c01e48ac.chunk.js.map